<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<title>jqReload Examples</title>
		<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="jquery.reload.min.js"></script>
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
		<!--<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">-->
		<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
		<link rel="stylesheet" href="jquery.reload.min.css">
		<link rel="stylesheet" href="demo.css">
		<script>
			$(function () {
				$('#example1').jqreload({
					delay: 1000,
					interval: 30000,
					ajax: {
						dataType: 'json'
					},
					beforeLoad: function ($e) {
						$e.find('.reload-data table').empty();
					},
					afterLoad: function ($e, data) {
						var $table = $e.find('.reload-data table');
						$.each(data, function (key, value) {
							$('<tr><td>' + key + '</td><td>' + value + '</td></tr>').appendTo($table);
						});
					}
				});
			});
		</script>
	</head>
	<body>
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="/">jqReload Examples</a>
				</div>
				<div id="navbar" class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li><a href="https://github.com/solodyagin/jquery.reload">GitHub</a></li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="container">
			<div class="row">
				<div class="col-md-12">

					<!-- [jqReload widget] -->
					<div id="example1" class="panel panel-default" data-url="example1.json">
						<div class="panel-heading">Example 1: An example of updating a table with data obtained in json format <a class="reload-button pull-right" href="javascript:void(0);"><i class="fas fa-sync"></i></a></div>
						<div class="panel-body reload-panel">
							<div class="reload-container"><i class="reload-spinner fas fa-spinner fa-spin fa-5x"></i></div>
							<div class="reload-data">
								<table class="table table-bordered table-condensed"></table>
							</div>
						</div>
					</div>
					<!-- [/jqReload widget] -->

				</div>
			</div>
		</div>
	</body>
</html>
